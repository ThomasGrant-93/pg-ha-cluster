[pgsql15node01]
description = "PostgreSQL Patroni Node [pgsql15node01]"
conninfo = host=pgsql15node01 port=5432 user=barman dbname=postgres password=barman
streaming_conninfo = host=pgsql15node01 port=5432 user=barman dbname=postgres password=barman
backup_method = postgres
ssh_command = ssh -o StrictHostKeyChecking=no -i /var/lib/barman/.ssh/id_rsa postgres@pgsql15node01
incoming_wals_directory = /var/lib/barman/pgsql15node01/incoming
slot_name = pgsql15node01
create_slot = auto
archiver = on
minimum_redundancy = 1
retention_policy = RECOVERY WINDOW OF 7 DAYS
immediate_checkpoint = true

[pgsql15node02]
description = "PostgreSQL Patroni Node [pgsql15node02]"
conninfo = host=pgsql15node02 port=5432 user=barman dbname=postgres password=barman
streaming_conninfo = host=pgsql15node02 port=5432 user=barman dbname=postgres password=barman
backup_method = postgres
ssh_command = ssh -o StrictHostKeyChecking=no -i /var/lib/barman/.ssh/id_rsa postgres@pgsql15node02
incoming_wals_directory = /var/lib/barman/pgsql15node02/incoming
slot_name = pgsql15node02
create_slot = auto
archiver = on
minimum_redundancy = 1
retention_policy = RECOVERY WINDOW OF 7 DAYS
immediate_checkpoint = true

[pgsql15node03]
description = "PostgreSQL Patroni Node [pgsql15node03]"
conninfo = host=pgsql15node03 port=5432 user=barman dbname=postgres password=barman
streaming_conninfo = host=pgsql15node03 port=5432 user=barman dbname=postgres password=barman
backup_method = postgres
ssh_command = ssh -o StrictHostKeyChecking=no -i /var/lib/barman/.ssh/id_rsa postgres@pgsql15node03
incoming_wals_directory = /var/lib/barman/pgsql15node03/incoming
slot_name = pgsql15node03
create_slot = auto
archiver = on
minimum_redundancy = 1
retention_policy = RECOVERY WINDOW OF 7 DAYS
immediate_checkpoint = true
